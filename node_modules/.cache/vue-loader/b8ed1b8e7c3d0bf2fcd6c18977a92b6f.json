{"remainingRequest":"C:\\Users\\DUONG\\Desktop\\managetimetable_webapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DUONG\\Desktop\\managetimetable_webapp\\src\\layout\\components\\Sidebar\\SidebarItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DUONG\\Desktop\\managetimetable_webapp\\src\\layout\\components\\Sidebar\\SidebarItem.vue","mtime":1589868463093},{"path":"C:\\Users\\DUONG\\Desktop\\managetimetable_webapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DUONG\\Desktop\\managetimetable_webapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\DUONG\\Desktop\\managetimetable_webapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DUONG\\Desktop\\managetimetable_webapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport path from 'path'\r\nimport { isExternal } from '@/utils/validate'\r\nimport Item from './Item'\r\nimport AppLink from './Link'\r\nimport FixiOSBug from './FixiOSBug'\r\n\r\nexport default {\r\n  name: 'SidebarItem',\r\n  components: { Item, AppLink },\r\n  mixins: [FixiOSBug],\r\n  props: {\r\n    // route object\r\n    item: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    isNest: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    basePath: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    // To fix https://github.com/PanJiaChen/vue-admin-template/issues/237\r\n    // TODO: refactor with render function\r\n    this.onlyOneChild = null\r\n    return {\r\n      role: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.role = JSON.parse(localStorage.getItem('infoUser')).role.roleName\r\n  },\r\n  methods: {\r\n    changeRouter() {\r\n      const status = localStorage.getItem('infoUser')\r\n      const statusTemp = JSON.parse(status)\r\n      const postData = {\r\n        page: 0,\r\n        limit: 10,\r\n        criteria: {\r\n          email: statusTemp.email\r\n        }\r\n      }\r\n      this.$store.dispatch('user/getStatusUser', postData).then(() => {\r\n        const status = this.$store.state.user.status\r\n        if (status !== 'ACTIVATE') {\r\n          this.logout()\r\n        }\r\n      })\r\n    },\r\n\r\n    async logout() {\r\n      await this.$store.dispatch('user/logout')\r\n      localStorage.removeItem('infoUser')\r\n      this.$router.push(`/login?redirect=${this.$route.fullPath}`)\r\n      const startInterval = this.$store.state.request.startInterval\r\n      clearInterval(startInterval)\r\n    },\r\n\r\n    hasOneShowingChild(children = [], parent) {\r\n      const showingChildren = children.filter(item => {\r\n        if (item.hidden) {\r\n          return false\r\n        } else {\r\n          // Temp set(will be used if only has one showing child)\r\n          this.onlyOneChild = item\r\n          return true\r\n        }\r\n      })\r\n\r\n      // When there is only one child router, the child router is displayed by default\r\n      if (showingChildren.length === 1) {\r\n        return true\r\n      }\r\n\r\n      // Show parent if there are no child router to display\r\n      if (showingChildren.length === 0) {\r\n        this.onlyOneChild = { ... parent, path: '', noShowingChildren: true }\r\n        return true\r\n      }\r\n\r\n      return false\r\n    },\r\n    resolvePath(routePath) {\r\n      if (isExternal(routePath)) {\r\n        return routePath\r\n      }\r\n      if (isExternal(this.basePath)) {\r\n        return this.basePath\r\n      }\r\n      return path.resolve(this.basePath, routePath)\r\n    }\r\n  }\r\n}\r\n",null]}